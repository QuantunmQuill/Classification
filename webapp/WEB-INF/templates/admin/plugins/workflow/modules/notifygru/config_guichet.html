<#include "/admin/plugins/workflow/modules/notifygru/include/commons.html"/>
<div class="row">
  <div class="col-xs-12 col-sm-12">
		<div style="display:flex;justify-content:space-between;border-bottom:1px solid #000;padding-bottom:	5px;margin-bottom:15px">
			<h4>#i18n{module.workflow.notifygru.task_notify_gru_config.title_guichet}<h4>
			<button class="btn btn-danger" title="#i18n{module.workflow.notifygru.task_notify_gru_config.label_button_remove}" type="submit" name="apply" value="RemoveNotificationConfig_guichet">
				<i class="fa fa-fw fa-trash" aria-hidden="true"></i>
			</button> 
		</div>
	</div>
</div>
<div class="row">
	<div class="col-xs-12 col-sm-8"> 
		<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3" for="status_text_guichet">#i18n{module.workflow.notifygru.task_notify_gru_config.label_status_text_guichet} * </label>
			<div class="col-xs-12 col-sm-12 col-md-8" >
				<input type="text" name="status_text_guichet"  class="form-control" value="<#if config?exists && config.statustextGuichet?has_content>${config.statustextGuichet!}</#if>" maxlength="255">
				<span class="help-block">#i18n{module.workflow.notifygru.task_notify_gru_config.label_status_text_guichet_helper}</span>
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3" for="sender_name_guichet">#i18n{module.workflow.notifygru.task_notify_gru_config.label_sender_name_guichet} *</label>
			<div class="col-xs-12 col-sm-12 col-md-8" >
				<input type="text" name="sender_name_guichet"  class="form-control" value="<#if config?exists && config.senderNameGuichet?has_content>${config.senderNameGuichet!}</#if>" maxlength="255">
				<span class="help-block">#i18n{module.workflow.notifygru.task_notify_gru_config.label_sender_name_comment_guichet}</span>
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3" for="subject_guichet">#i18n{module.workflow.notifygru.task_notify_gru_config.label_subject_guichet} *</label>
			<div class="col-xs-12 col-sm-12 col-md-8">
				<input type="text" name="subject_guichet"  class="form-control" value="<#if config?exists && config.subjectGuichet?has_content>${config.subjectGuichet!}</#if>" maxlength="255">
				<span class="help-block">#i18n{module.workflow.notifygru.task_notify_gru_config.label_subject_comment_guichet}</span>
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3" for="message_guichet">#i18n{module.workflow.notifygru.task_notify_gru_config.label_message_guichet} *</label>
			<div class="col-md-8 col-lg-8 col-xs-12 col-sm-12">
				<textarea name="message_guichet" id="message_guichet" rows="15" cols="70" class="richtext"><#if config?exists  && config.messageGuichet?has_content>${config.messageGuichet!}</#if></textarea>
				<span class="help-block">#i18n{module.workflow.notifygru.task_notify_gru_config.label_message_comment_guichet}</span>
			</div>
		</div>    
		<div class="form-group">
			<div class="col-xs-12 col-sm-offset-3 col-sm-7 col-md-offset-3 col-md-7">
				<button type="button" id="myButton" data-loading-text="Loading..." class="btn btn-primary" autocomplete="off" onclick="showhideConfEtapes()">
					#i18n{module.workflow.notifygru.task_notify_gru_config.label_button_config_state} <span class="fa fa-caret-down" aria-hidden="true" id="iconeConfEtapes"></span>
				</button>
			</div>
		</div>
		<div id="conf_etapes">
			<div class="form-group">
				<label class="control-label col-xs-12 col-sm-8 col-md-3" for="demand_max_step_uichet">#i18n{module.workflow.notifygru.task_notify_gru_config.label_demande_max_step_guichet}</label>
				<div class="col-xs-12 col-sm-4 col-md-2">
				<#if config?exists && config.demandMaxStepGuichet?has_content && config.demandMaxStepGuichet!=-1>
				  <input type="number" name="demand_max_step_uichet" id="demand_max_step_uichet" class="form-control" value="${config.demandMaxStepGuichet}" maxlength="255">
				<#else>
				  <input type="number" name="demand_max_step_uichet" id="demand_max_step_uichet" class="form-control" value="1" maxlength="255">
				</#if>
				<span class="help-block">#i18n{module.workflow.notifygru.task_notify_gru_config.label_demande_max_step_guichet_helper}</span>
				</div>
			</div>
            <div class="form-group">
				<label class="control-label col-xs-12 col-sm-8 col-md-3" for="demand_user_current_step_guichet">#i18n{module.workflow.notifygru.task_notify_gru_config.label_demande_current_step_guichet}</label>
				<div class="col-xs-12 col-sm-4 col-md-2">
				<#if config?exists && config.demandUserCurrentStepGuichet?has_content && config.demandUserCurrentStepGuichet!=-1>
				  <input type="number" name="demand_user_current_step_guichet" class="form-control" value="${config.demandUserCurrentStepGuichet}" maxlength="255">
				<#else>
				  <input type="number" name="demand_user_current_step_guichet" class="form-control" value="1" maxlength="255">
				</#if>
				<span class="help-block">#i18n{module.workflow.notifygru.task_notify_gru_config.label_demande_current_step_guichet_helper}</span>
				</div>
			</div>
		</div>
    </div>
	<div class="col-xs-12 col-sm-4">
		<@marker_descriptions />
	</div>
</div>
<style>
#conf_etapes{ display:none; }
</style>
<script>
var Firstime=true;
function showhideConfEtapes() {
	var div = document.getElementById("conf_etapes");
	if (div.style.display !== "none") {
        div.style.display = "none";
		document.getElementById("iconeConfEtapes").setAttribute("class", "fa fa-caret-down");
    } else {
        div.style.display = "block";
		document.getElementById("iconeConfEtapes").setAttribute("class", "fa fa-caret-up");
    }  
	if(document.getElementById("demand_max_step_uichet").value.length > 0 || document.getElementById("demand_state_guichet").value.length > 0 ) {
		if(Firstime) {
			div.style.display = "block";
			document.getElementById("iconeConfEtapes").setAttribute("class", "fa fa-caret-up");
		}
		Firstime=false;
	}
}
showhideConfEtapes();
</script>